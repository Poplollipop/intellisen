<div class="container">

    <div class="left-section">
        <div class="basic-info">
            <div class="header">
                <h3>基本資料</h3>
                <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="edit"
                    (click)="toggleEdit('basicInfo')">
                </mat-icon>
            </div>
            <div class="pic">
                <label>頭像：</label>
                <img src="assets/avatar.jpg">
            </div>
            <div class="info">
                @if (this.role == '事務所') {
                <div class="info-row">
                    <label for="name">名稱：</label>
                    @if (!editMode.basicInfo) {
                    <span id="name">{{this.name}}</span>
                    }
                    @else {
                    <input [(ngModel)]="name" id="name" type="text" placeholder="請輸入名稱">
                    }
                </div>
                <div class="info-row">
                    <label for="address">地址：</label>
                    @if (!editMode.basicInfo) {
                    <span>{{this.address}}</span>
                    }
                    @else {
                    <input [(ngModel)]="address" id="address" type="text" placeholder="請輸入地址">
                    }
                </div>
                <div class="info-row">
                    <label for="lawFirmNumber">事務所統編：</label>
                    @if (!editMode.basicInfo) {
                    <span>{{this.lawFirmNumber}}</span>
                    }
                    @else {
                    <input [(ngModel)]="lawFirmNumber" id="lawFirmNumber" type="text" placeholder="請輸入統編">
                    }
                </div>
                }
                @if (this.role == '律師') {
                <div class="info-row">
                    <label for="name">名稱：</label>
                    @if (!editMode.basicInfo) {
                    <span id="name">{{this.name}}</span>
                    }
                    @else {
                    <input [(ngModel)]="name" id="name" type="text" placeholder="請輸入名稱">
                    }
                </div>
                <div class="info-row">
                    <label for="lawFirm">所屬事務所：</label>
                    @if (!editMode.basicInfo) {
                    <span>{{this.lawFirm}}</span>
                    }
                    @else {
                    <input [(ngModel)]="lawFirm" id="lawFirm" type="text" placeholder="請輸入所屬事務所">
                    }
                </div>
                <div class="info-row">
                    <label for="licenseNumber">律師證書字號：</label>
                    @if (!editMode.basicInfo) {
                    <span>{{this.licenseNumber}}</span>
                    }
                    @else {
                    <input [(ngModel)]="licenseNumber" id="licenseNumber" type="text" placeholder="請輸入律師證書字號">
                    }
                </div>
                }
                @if (this.role == '一般使用者') {
                <div class="info-row">
                    <label for="name">名稱：</label>
                    @if (!editMode.basicInfo) {
                    <span id="name">{{this.name}}</span>
                    }
                    @else {
                    <input [(ngModel)]="name" id="name" type="text" placeholder="請輸入名稱">
                    }
                </div>
                <div class="info-row">
                    <label for="city">所在縣市：</label>
                    @if (!editMode.basicInfo) {
                    <span id="city">{{this.city}}</span>
                    }
                    @else {
                    <input [(ngModel)]="city" id="city" type="text" placeholder="請輸入所在縣市">
                    }
                </div>
                }
            </div>
            @if (editMode.basicInfo) {
            <div class="update-btn">
                <button (click)="updateInfo()">完成</button>
            </div>
            }
        </div>


        <div class="contact-info">
            @if (this.role == "律師" || this.role == "事務所" || this.role == "一般使用者") {
            <div class="header">
                <h3>聯絡資料</h3>
                <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="edit"
                    (click)="toggleEdit('contactInfo')"></mat-icon>
            </div>
            <div class="info">
                <div class="info-row">
                    <label for="email">電子郵件：</label>
                    <span id="email">{{this.email}}</span>
                </div>

                <div class="info-row">
                    <label for="phone">電話：</label>
                    @if (!editMode.contactInfo) {
                    <span id="phone">{{this.phone}}</span>
                    }
                    @else {
                    <input [(ngModel)]="phone" id="phone" type="text" placeholder="請輸入電話">
                    }
                </div>
            </div>
            }
            @else {
            <div class="header">
                <h3>聯絡資料</h3>
            </div>
            <div class="info">
                <div class="info-row">
                    <label for="email">電子郵件：</label>
                    <span id="email">{{this.email}}</span>
                </div>
            </div>
            }
        </div>
    </div>

    <div class="right-section">
        <div class="current-role">
            <h3>目前使用者類型</h3>
            <div class="plan-box">
                <p style="font-size: 20px;">{{this.role}}</p>
                <button class="change-plan-button" (click)="goChangeRole()">更換方案</button>
            </div>
        </div>
    </div>

</div>